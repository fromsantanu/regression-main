# 📚 **🌟 Robust Regression**

---

### 📝 **🔹 Step 0: Problem Setup**

**Example Problem:**
Predict **house price (Y)** based on **area (X)** when there are **outliers** in the data that can strongly affect ordinary least squares (OLS) estimates.

---

### 🔹 **Step 1: Conceptual Overview**

✅ **What is Robust Regression?**

* Used when **data contains outliers** or **violates OLS assumptions**, making classical regression unreliable.
* **Down-weights the influence** of outliers for stable estimation.

---

### 🔹 **Step 2: Import Libraries**

```python
import pandas as pd
import numpy as np
import statsmodels.api as sm
import matplotlib.pyplot as plt
```

---

### 🔹 **Step 3: Create Sample Data with Outlier**

```python
# Sample data with an outlier
data = {
    'Area': [500, 750, 1000, 1250, 1500, 1700],
    'Price': [150000, 200000, 250000, 300000, 350000, 1000000]  # outlier at last point
}
df = pd.DataFrame(data)
print(df)
```

---

### 🔹 **Step 4: Visualize Data**

```python
plt.scatter(df['Area'], df['Price'], color='blue')
plt.xlabel('Area (sq ft)')
plt.ylabel('Price ($)')
plt.title('Scatter Plot with Outlier')
plt.show()
```

---

### 🔹 **Step 5: Fit Ordinary Least Squares (OLS) for Comparison**

```python
X = sm.add_constant(df['Area'])
y = df['Price']

ols_model = sm.OLS(y, X).fit()
print(ols_model.summary())
```

---

### 🔹 **Step 6: Fit Robust Regression Model**

Using **Huber’s T norm** (commonly used robust method):

```python
robust_model = sm.RLM(y, X, M=sm.robust.norms.HuberT()).fit()
print(robust_model.summary())
```

✅ **Interpretation:**

* **Coefficients are less affected by outlier** compared to OLS.

---

### 🔹 **Step 7: Plot OLS vs Robust Regression**

```python
plt.scatter(df['Area'], df['Price'], color='blue', label='Data')

# OLS line
plt.plot(df['Area'], ols_model.predict(X), color='red', label='OLS')

# Robust Regression line
plt.plot(df['Area'], robust_model.predict(X), color='green', linestyle='--', label='Robust')

plt.xlabel('Area (sq ft)')
plt.ylabel('Price ($)')
plt.title('OLS vs Robust Regression')
plt.legend()
plt.show()
```

---

### 🔹 **Step 8: Applicability of Robust Regression**

| **When to use?**                                                | **When not to use?**                    |
| --------------------------------------------------------------- | --------------------------------------- |
| Data has **outliers or heavy-tailed errors**                    | Data follows **normal OLS assumptions** |
| You want **stable regression estimates** despite extreme values | No outliers or influential points       |
| Errors are not normally distributed                             |                                         |

---

### 🔹 **Step 9: Robust Regression Methods**

Besides **Huber’s T**, other robust methods include:

* **M-estimators**
* **Least Trimmed Squares**
* **RANSAC Regression** (Scikit-learn implementation for outlier removal)

Let me know if you wish to explore **RANSAC** in future advanced ML tutorials.

---

### 📝 **End of Part 11**

---
